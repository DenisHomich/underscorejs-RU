<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />  
  <title>Underscore.js | русская документация</title>
    <style>
        body {
            font-size: 14px;
            line-height: 22px;
            background: #f4f4f4 url(docs/images/background.png);
            color: #000;
            font-family: Helvetica Neue, Helvetica, Arial;
        }
        .interface {
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, sans-serif !important;
        }
        div#sidebar {
            background: #fff;
            position: fixed;
            top: 0; left: 0; bottom: 0;
            width: 200px;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            padding: 15px 0 30px 30px;
            border-right: 1px solid #bbb;
            box-shadow: 0 0 20px #ccc; -webkit-box-shadow: 0 0 20px #ccc; -moz-box-shadow: 0 0 20px #ccc;
        }
        a.toc_title, a.toc_title:visited {
            display: block;
            color: black;
            font-weight: bold;
            margin-top: 15px;
        }
        a.toc_title:hover {
            text-decoration: underline;
        }
        #sidebar .version {
            font-size: 10px;
            font-weight: normal;
        }
        ul.toc_section {
            font-size: 11px;
            line-height: 14px;
            margin: 5px 0 0 0;
            padding-left: 0px;
            list-style-type: none;
            font-family: Lucida Grande;
        }
        .toc_section li {
            cursor: pointer;
            margin: 0 0 3px 0;
        }
        .toc_section li a {
            text-decoration: none;
            color: black;
        }
        .toc_section li a:hover {
            text-decoration: underline;
        }
        div.container {
            width: 550px;
            margin: 40px 0 50px 260px;
        }
        img#logo {
            width: 396px;
            height: 69px;
        }
        div.warning {
            margin-top: 15px;
            font: bold 11px Arial;
            color: #770000;
        }
        p {
            margin: 20px 0;
            width: 550px;
        }
        a, a:visited {
            color: #444;
        }
        a:active, a:hover {
            color: #000;
        }
        h1, h2, h3, h4, h5, h6 {
            padding-top: 20px;
        }
        h2 {
            font-size: 20px;
        }
        b.header {
            font-size: 16px;
            line-height: 30px;
        }
        span.alias {
            font-size: 14px;
            font-style: italic;
            margin-left: 20px;
        }
        table, tr, td {
            margin: 0; padding: 0;
        }
        td {
            padding: 2px 12px 2px 0;
        }
        table .rule {
            height: 1px;
            background: #ccc;
            margin: 5px 0;
        }
        ul {
            list-style-type: circle;
            padding: 0 0 0 20px;
        }
        li {
            width: 500px;
            margin-bottom: 10px;
        }
        code, pre, tt {
            font-family: Monaco, Consolas, "Lucida Console", monospace;
            font-size: 12px;
            line-height: 18px;
            font-style: normal;
        }
        tt {
            padding: 0px 3px;
            background: #fff;
            border: 1px solid #ddd;
            zoom: 1;
        }
        code {
            margin-left: 20px;
        }
        pre {
            font-size: 12px;
            padding: 2px 0 2px 15px;
            border-left: 5px solid #bbb;
            margin: 0px 0 30px;
        }

        td {
            vertical-align: top;
        }

        @media only screen and (-webkit-min-device-pixel-ratio: 1.5) and (max-width: 640px),
        only screen and (-o-min-device-pixel-ratio: 3/2) and (max-width: 640px),
        only screen and (min-device-pixel-ratio: 1.5) and (max-width: 640px) {
            img {
                max-width: 100%;
            }
            div#sidebar {
                -webkit-overflow-scrolling: initial;
                position: relative;
                width: 90%;
                height: 120px;
                left: 0;
                top: -7px;
                padding: 10px 0 10px 30px;
                border: 0;
            }
            img#logo {
                width: auto;
                height: auto;
            }
            div.container {
                margin: 0;
                width: 100%;
            }
            p, div.container ul {
                max-width: 98%;
                overflow-x: scroll;
            }
            pre {
                overflow: scroll;
            }
        }
    </style>
</head>
<body>
  
  <div id="sidebar" class="interface">

    <a class="toc_title" href="#">
      Underscore.js <span class="version">(1.6.0)</span>
    </a>
    <ul class="toc_section">
        <li>&raquo; <a href="https://github.com/jashkenas/underscore">Репозиторий на GitHub</a></li>
        <li>&raquo; <a href="docs/underscore.html">Исходный код с аннотациями</a></li>
        <li>&raquo; <a href="http://documentcloud.github.io/underscore-contrib/">Underscore-contrib</a></li>
    </ul>
    
    <a class="toc_title" href="#">
      Введение
    </a>

    <a class="toc_title" href="#collections">
      Коллекции
    </a>
    <ul class="toc_section">
      <li>- <a href="#each">each</a></li>
      <li>- <a href="#map">map</a></li>
      <li>- <a href="#reduce">reduce</a></li>
      <li>- <a href="#reduceRight">reduceRight</a></li>
      <li>- <a href="#find">find</a></li>
      <li>- <a href="#filter">filter</a></li>
      <li>- <a href="#where">where</a></li>
      <li>- <a href="#findWhere">findWhere</a></li>
      <li>- <a href="#reject">reject</a></li>
      <li>- <a href="#every">every</a></li>
      <li>- <a href="#some">some</a></li>
      <li>- <a href="#contains">contains</a></li>
      <li>- <a href="#invoke">invoke</a></li>
      <li>- <a href="#pluck">pluck</a></li>
      <li>- <a href="#max">max</a></li>
      <li>- <a href="#min">min</a></li>
      <li>- <a href="#sortBy">sortBy</a></li>
      <li>- <a href="#groupBy">groupBy</a></li>
      <li>- <a href="#indexBy">indexBy</a></li>
      <li>- <a href="#countBy">countBy</a></li>
      <li>- <a href="#shuffle">shuffle</a></li>
      <li>- <a href="#toArray">toArray</a></li>
      <li>- <a href="#size">size</a></li>
    </ul>

    <a class="toc_title" href="#arrays">
      Массивы
    </a>
    <ul class="toc_section">
      <li>- <a href="#first">first</a></li>
      <li>- <a href="#initial">initial</a></li>
      <li>- <a href="#last">last</a></li>
      <li>- <a href="#rest">rest</a></li>
      <li>- <a href="#compact">compact</a></li>
      <li>- <a href="#flatten">flatten</a></li>
      <li>- <a href="#without">without</a></li>
      <li>- <a href="#partition">partition</a></li>
      <li>- <a href="#union">union</a></li>
      <li>- <a href="#intersection">intersection</a></li>
      <li>- <a href="#difference">difference</a></li>
      <li>- <a href="#uniq">uniq</a></li>
      <li>- <a href="#zip">zip</a></li>
      <li>- <a href="#object">object</a></li>
      <li>- <a href="#indexOf">indexOf</a></li>
      <li>- <a href="#lastIndexOf">lastIndexOf</a></li>
      <li>- <a href="#sortedIndex">sortedIndex</a></li>
      <li>- <a href="#range">range</a></li>
    </ul>

    <a class="toc_title" href="#functions">
      Функции
    </a>
    <ul class="toc_section">
      <li>- <a href="#bind">bind</a></li>
      <li>- <a href="#bindAll">bindAll</a></li>
      <li>- <a href="#partial">partial</a></li>
      <li>- <a href="#memoize">memoize</a></li>
      <li>- <a href="#delay">delay</a></li>
      <li>- <a href="#defer">defer</a></li>
      <li>- <a href="#throttle">throttle</a></li>
      <li>- <a href="#debounce">debounce</a></li>
      <li>- <a href="#once">once</a></li>
      <li>- <a href="#after">after</a></li>
      <li>- <a href="#now">now</a></li>
      <li>- <a href="#wrap">wrap</a></li>
      <li>- <a href="#compose">compose</a></li>
    </ul>

    <a class="toc_title" href="#objects">
      Объекты
    </a>
    <ul class="toc_section">
      <li>- <a href="#keys">keys</a></li>
      <li>- <a href="#values">values</a></li>
      <li>- <a href="#pairs">pairs</a></li>
      <li>- <a href="#invert">invert</a></li>
      <li>- <a href="#object-functions">functions</a></li>
      <li>- <a href="#extend">extend</a></li>
      <li>- <a href="#pick">pick</a></li>
      <li>- <a href="#omit">omit</a></li>
      <li>- <a href="#defaults">defaults</a></li>
      <li>- <a href="#clone">clone</a></li>
      <li>- <a href="#tap">tap</a></li>
      <li>- <a href="#has">has</a></li>
      <li>- <a href="#matches">matches</a></li>
      <li>- <a href="#property">property</a></li>
      <li>- <a href="#isEqual">isEqual</a></li>
      <li>- <a href="#isEmpty">isEmpty</a></li>
      <li>- <a href="#isElement">isElement</a></li>
      <li>- <a href="#isArray">isArray</a></li>
      <li>- <a href="#isObject">isObject</a></li>
      <li>- <a href="#isArguments">isArguments</a></li>
      <li>- <a href="#isFunction">isFunction</a></li>
      <li>- <a href="#isString">isString</a></li>
      <li>- <a href="#isNumber">isNumber</a></li>
      <li>- <a href="#isFinite">isFinite</a></li>
      <li>- <a href="#isBoolean">isBoolean</a></li>
      <li>- <a href="#isDate">isDate</a></li>
      <li>- <a href="#isRegExp">isRegExp</a></li>
      <li>- <a href="#isNaN">isNaN</a></li>
      <li>- <a href="#isNull">isNull</a></li>
      <li>- <a href="#isUndefined">isUndefined</a></li>
    </ul>

    <a class="toc_title" href="#utility">
      Утилиты
    </a>    
    <ul class="toc_section">
      <li>- <a href="#noConflict">noConflict</a></li>
      <li>- <a href="#identity">identity</a></li>
      <li>- <a href="#constant">constant</a></li>
      <li>- <a href="#times">times</a></li>
      <li>- <a href="#random">random</a></li>
      <li>- <a href="#mixin">mixin</a></li>
      <li>- <a href="#uniqueId">uniqueId</a></li>
      <li>- <a href="#escape">escape</a></li>
      <li>- <a href="#unescape">unescape</a></li>
      <li>- <a href="#result">result</a></li>
      <li>- <a href="#template">template</a></li>
    </ul>

    <a class="toc_title" href="#chaining">
      Цепные вызовы
    </a>
    <ul class="toc_section">
      <li>- <a href="#chain">chain</a></li>
      <li>- <a href="#value">value</a></li>
    </ul>
    
    <a class="toc_title" href="#links">
      Links
    </a>
    
    <a class="toc_title" href="#changelog">
      Change Log
    </a>
    
  </div>

  <div class="container">

    <p id="introduction">
      <img style="width: 396px; height: 99px;" src="docs/images/underscore.png" alt="Underscore.js" />
    </p>

    <p>
      <a href="http://github.com/documentcloud/underscore/">Underscore</a> это 
      невероятно удобная JavaScript библиотека, этакий швейцарский нож для 
      js-разработчика, набор функций-утилит, которые так привычны любителям 
      <a href="http://prototypejs.org/api">Prototype.js</a> (или <a href="http://www.ruby-doc.org/core/classes/Enumerable.html">Ruby</a>).
      Однако, в отличие, от Prototype.js, underscore не модифицирует прототипы  
      встроенных объектов JavaScript. Данная особенность гарантирует бесконфликтность, 
      что позволяет замечательно сочетать сей инструмент с, например, 
      <a href="http://docs.jquery.com">jQuery</a> или <a href="http://backbonejs.org/">Backbone</a> или и тем и другим всем вместе.
    </p>

    <p>
      В состав Underscore входит более 80 функций, часть из которых решает
      более стандартные задачи, например, упрощает работу с коллекциями, 
      а часть позволяет проще делать более экзотические вещи, такие как: 
      функциональное связывание, javascript шаблонизация, проверки на равенство 
      (напр. объектов), и т.д. Кроме того, underscore умеет делегировать вызовы, 
      т.е. если код выполняется с современном браузере, который имеет нативные 
      реализации таких методов, как: <b>forEach</b>, <b>map</b>, <b>reduce</b>,
      <b>filter</b>, <b>every</b>, <b>some</b> and <b>indexOf</b>, то будут вызваны 
      именно они.
    </p>

    <p>
      Функциональные тесты и тесты производительности <a href="http://documentcloud.github.com/underscore/test/index.html">прилагаются</a>.
    </p>
    
    <p>
      Отлично документированные <a href="docs/underscore.html">исходники</a>.
    </p>

    <p>
      Проект 
      <a href="http://github.com/documentcloud/underscore/">хостится на GitHub</a>.
      Баг репорты и фичереквесты можно разместить 
      <a href="http://github.com/documentcloud/underscore/issues">тут</a>,
      или отправить твитом на <a href="http://twitter.com/documentcloud">@documentcloud</a>. Баги по русской версии 
      документации принимаются <a href="https://github.com/DenisHomich/underscorejs-RU">в этом репозитории</a>.
    </p>

    <p>
      <i>Underscore — это open-source компонента <a href="http://documentcloud.org/">DocumentCloud</a>.</i>
    </p>

    <h2>Файлы для загрузки <i style="padding-left: 12px; font-size:12px;">(правый клик, затем "Сохранить как..")</i></h2>

    <table>
      <tr>
        <td><a href="underscore.js">Версия для разработчиков (1.6.0)</a></td>
        <td><i>44kb, Много комментариев</i></td>
      </tr>
      <tr>
        <td><a href="underscore-min.js">Продакшн версия (1.6.0)</a></td>
        <td>
            <i>&lt; 5.0kb, Обфусцированная и обжатая</i>
            <br/>
            <small>(<a href="underscore-min.map">Source Map</a>)</small>
        </td>
      </tr>
      <tr>
          <td colspan="2"><div class="rule"></div></td>
      </tr>
      <tr>
          <td><a href="https://raw.github.com/jashkenas/underscore/master/underscore.js">Дорелизная версия</a></td>
          <td><i>Используйте на свой страх и риск</i></td>
      </tr>
    </table>

    <h2>Установка</h2>
    <ul>
        <li>
            <b>Node.js</b> <tt>npm install underscore</tt>
        </li>
        <li>
            <b>Require.js</b> <tt>require(["underscore"], ...</tt>
        </li>
        <li>
            <b>Bower</b> <tt>bowser install underscore</tt>
        </li>
        <li>
            <b>Component</b> <tt>component install jashkenas/underscore</tt>
        </li>
    </ul>

    <div id="documentation">

      <h2 id="collections">Работа с коллекциями (массивами или объектами)</h2>

      <p id="each">
        <b class="header">each</b><code>_.each(list, iterator, [context])</code>
        <span class="alias">Alias: <b>forEach</b></span>
        <br />
        Проходит по всему списку элементов, вызывая для каждого из них функцию <b>iterator</b>,
        которая будет вызвана в контексте <b>context</b>, если он был передан.
        При каждом вызове в <b>iterator</b> будут переданы 3 аргумента:
        <tt>(element, index, list)</tt>. В случае, если <b>list</b> является JavaScript объектом, то в <b>iterator</b>
        будут переданы <tt>(value, key, list)</tt>. Если в браузере есть нативная реализация метода
        <b>forEach</b>, то вызов будет делегирован ему.
      </p>
      <pre>
// выведет все элементы массива
_.each([1, 2, 3], function(num){ alert(num); });

// выведет содержимое объекта в формате ключ:значение
_.each({one : 1, two : 2, three : 3}, function(num, key){ alert(key+":"+num); });</pre>

      <p id="map">
        <b class="header">map</b><code>_.map(list, iterator, [context])</code>
        <span class="alias">Alias: <b>collect</b></span>
        <br />
        Вернет новый массив, полученный преобразованием каждого элемента <b>list</b>
        в функции (<b>iterator</b>). Если метод <b>map</b> реализован нативно, будет вызван именно он.
        Если <b>list</b> — JavaScript-объект, аргументами функции
        <b>iterator</b> будут <tt>(value, key, list)</tt>.
      </p>
      <pre>
// вернет [3,6,9]
_.map([1, 2, 3], function(num){ return num * 3; });

// вернет [3,6,9]
_.map({one : 1, two : 2, three : 3}, function(num, key){ return num * 3; });</pre>

      <p id="reduce">
        <b class="header">reduce</b><code>_.reduce(list, iterator, memo, [context])</code>
        <span class="alias">Aliases: <b>inject, foldl</b></span>
        <br />
        <b>Reduce</b> объединит вместе значения из <b>list</b>, путем пропускания каждого из них через 
        функцию <b>iterator</b>, которая в качестве аргументов получит <tt>(memo, value, key, list)</tt>.
	Где <b>memo</b> начальное значение шага редукции, которое было возвращено предыдущим вызовом <b>iterator</b>.
      </p>
      <pre>
// вернет 6
var sum = _.reduce([1, 2, 3], function(memo, num){ return memo + num; }, 0);</pre>

      <p id="reduceRight">
        <b class="header">reduceRight</b><code>_.reduceRight(list, iterator, memo, [context])</code>
        <span class="alias">Alias: <b>foldr</b></span>
        <br />
        Правоассоциативная версия <b>reduce</b>.  Вызов будет делегирован <b>reduceRight</b>, 
        если есть нативная реализация.
      </p>
      <pre>
var list = [[0, 1], [2, 3], [4, 5]];

// вернет [4, 5, 2, 3, 0, 1]
var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);</pre>

      <p id="find">
        <b class="header">find</b><code>_.find(list, iterator, [context])</code>
        <span class="alias">Alias: <b>detect</b></span>
        <br />
        Вызывает для каждого элемента <b>list</b>, функцию сравнения <b>iterator</b>,
	возвращая первый элемент, для которого <b>iterator</b> вернула <tt>true</tt>. 
	Выполнение функции при этом прерывается, т.е. вызовов <b>iterator</b> для оставшейся части <b>list</b>
	не будет.
      </p>
      <pre>
// вернет 2
var even = _.find([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
</pre>

      <p id="filter">
        <b class="header">filter</b><code>_.filter(list, iterator, [context])</code>
        <span class="alias">Alias: <b>select</b></span>
        <br />
        Проходит каждое значение <b>list</b>, возвращая массив из
        значений, для которых <b>iterator</b> вернул <tt>true</tt>. 
 	Делегирует вызов нативной реализации <b>filter</b>, если таковая имеется.
      </p>
      <pre>
// вернет [2,4,6]
var evens = _.filter([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
</pre>

      <p id="where">
          <b class="header">where</b><code>_.where(list, properties)</code>
          <br />
          Вернет массив из элементов <b>list</b>, для которых совпадают значения для
          соответсвующих ключей, перечисленные в <b>properties</b>.
      </p>
<pre>
_.where(listOfPlays, {author: "Shakespeare", year: 1611});
// вернет
[
    {title: "Cymbeline", author: "Shakespeare", year: 1611},
    {title: "The Tempest", author: "Shakespeare", year: 1611}
]
</pre>

      <p id="findWhere">
          <b class="header">findWhere</b><code>_.findWhere(list, properties)</code>
          <br />
          Сработает аналогично <b>where</b>, но вернет только первый элемент, соответствующий
          заданным <b>properties</b>.
      </p>
      <p>
          Если совпадений не найдено или <b>list</b> пустой — вернет <i>undefined</i>.
      </p>
<pre>
_.findWhere(publicServicePulitzers, {newsroom: "The New York Times"});
// вернет
{
    year     : 1918,
    newsroom : "The New York Times",
    reason   : "For its public service in publishing in full so many official reports, documents and speeches by European statesmen relating to the progress and conduct of the war."
}
</pre>

      <p id="reject">
        <b class="header">reject</b><code>_.reject(list, iterator, [context])</code>
        <br />
        Возвращает массив, содержащий все значения <b>list</b>, за исключением элементов, для которых функция
	<b>iterator</b> вернула значение, отличное от <tt>true</tt>. Т.е. <b>reject</b> является «антонимом» <b>filter</b>.
      </p>
      <pre>
// вернет [1, 3, 5]
var odds = _.reject([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
</pre>

      <p id="every">
        <b class="header">every</b><code>_.every(list, [predicate], [context])</code>
        <span class="alias">Alias: <b>all</b></span>
        <br />
        Вернет <tt>true</tt>, если для каждого значения из <b>list</b> <b>predicate</b>
        вернет <tt>true</tt>. Делегирует вызов к нативной реализации <b>every</b>, если она существует.
      </p>
      <pre>
// вернет false
_.all([true, 1, null, 'yes'], _.identity);
</pre>

      <p id="some">
        <b class="header">some</b><code>_.some(list, [predicate], [context])</code>
        <span class="alias">Alias: <b>any</b></span>
        <br />
        Вернет <tt>true</tt>, если хотябы для одного значения из <b>list</b> <b>predicate</b>
        вернет <tt>true</tt>. После нахождения первого, удовлетворяющего условию элемента выполнение функции прерывается.
	    Делегирует вызов к нативной реализации <b>some</b>, если она существует.
      </p>
      <pre>
// вернет true
_.any([null, 0, 'yes', false]);
</pre>

      <p id="contains">
        <b class="header">contains</b><code>_.contains(list, value)</code>
        <span class="alias">Alias: <b>include</b></span>
        <br />
        Вернет <i>true</i>, если в <b>list</b> содержится элемент, эквивалентный <b>value</b>.
	    Для сравнения используется оператор <tt>===</tt>. Если <b>list</b> является массивом, будет вызван метод <b>indexOf</b>.
      </p>
      <pre>
// вернет true
_.include([1, 2, 3], 3);
</pre>

      <p id="invoke">
        <b class="header">invoke</b><code>_.invoke(list, methodName, [*arguments])</code>
        <br />
        Вызовет метод <b>methodName</b> на каждом значении <b>list</b>.
        Все дополнительные аргументы, если они переданы в <b>invoke</b> будут так же переданы при вызове <b>methodName</b>.
      </p>
      <pre>
// вернет [[1, 5, 7], [1, 2, 3]]
_.invoke([[5, 1, 7], [3, 2, 1]], 'sort');
</pre>

      <p id="pluck">
        <b class="header">pluck</b><code>_.pluck(list, propertyName)</code>
        <br />
        Наверное, наиболее частоиспользуемый метод для <b>map</b>:
	вернет массив, состоящий из значений свойства <b>propertyName</b> каждого из элементов <b>list</b>.
      </p>
      <pre>
// вернет ["moe", "larry", "curly"]
var stooges = [{name : 'moe', age : 40}, {name : 'larry', age : 50}, {name : 'curly', age : 60}];
_.pluck(stooges, 'name');
</pre>

      <p id="max">
        <b class="header">max</b><code>_.max(list, [iterator], [context])</code>
        <br />
        Вернет максимальное значение из <b>list</b>. Если был передан <b>iterator</b>,
        то он будет использован для генерация критерия, по которому будет проведено сравнение.
      </p>
      <pre>
var stooges = [{name : 'moe', age : 40}, {name : 'larry', age : 50}, {name : 'curly', age : 60}];

// вернет {name : 'curly', age : 60};
_.max(stooges, function(stooge){ return stooge.age; });
</pre>

      <p id="min">
        <b class="header">min</b><code>_.min(list, [iterator], [context])</code>
        <br />
        Вернет минимальное значение из <b>list</b>. Если был передан <b>iterator</b>,
	то он будет использован для генерация критерия, по которому будет проведено сравнение.
      </p>
      <pre>
var numbers = [10, 5, 100, 2, 1000];

// вернет 2
_.min(numbers);
</pre>

      <p id="sortBy">
        <b class="header">sortBy</b><code>_.sortBy(list, iterator, [context])</code>
        <br />
        Вернет отсортированную копию <b>list</b>, сортировка будет проведена по значению, 
        возвращенному функцией <b>iterator</b>, для каждого элемента <b>list</b>.
      </p>
      <pre>
// вернет [5, 4, 6, 3, 1, 2]
_.sortBy([1, 2, 3, 4, 5, 6], function(num){ return Math.sin(num); });
</pre>

      <p id="groupBy">
        <b class="header">groupBy</b><code>_.groupBy(list, iterator)</code>
        <br />
        Разобьет коллекцию на сеты, сгруппированные по признаку, определенному вызовом <b>iterator</b>
	для каждого из элементов <b>list</b>. Если <b>iterator</b> не функция, а строка, 
	то группировка будет произведена по значению свойства с именем <b>iterator</b>.
      </p>
      <pre>
// вернет {1: [1.3], 2: [2.1, 2.4]}
_.groupBy([1.3, 2.1, 2.4], function(num){ return Math.floor(num); });

// вернет {3: ["one", "two"], 5: ["three"]}
_.groupBy(['one', 'two', 'three'], 'length');
</pre>

      <p id="indexBy">
          <b class="header">indexBy</b><code>_.indexBy(list, iterator, [context])</code>
          <br />
          На вход получает коллекцию <b>list</b> и <b>iterator</b>, функцию которая должна
          вернуть ключ для каждого элемента коллекции (or a property name),
          вернет объект, пар индекс : соответствующий ему объект.
          Т.е. работает аналогично <a href="#groupBy">groupBy</a>, для случаев, когда индексы уникальны.
      </p>
      <pre>
var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
_.indexBy(stooges, 'age');

// вернет
{
  "40": {name: 'moe', age: 40},
  "50": {name: 'larry', age: 50},
  "60": {name: 'curly', age: 60}
}
</pre>

      <p id="countBy">
          <b class="header">countBy</b><code>_.countBy(list, iterator, [context])</code>
          <br />
          Сортирует коллекцию <b>list</b> в группы, вернет объект где значением каждого свойства <b>groupName</b>
          будет количество элементов коллекции, относящихся к этой группе.
          Т.е. работает аналогично <tt>groupBy</tt>, но вернет не сами элементы а их количество.
      </p>
<pre>
// вернет {odd: 3, even: 2}
_.countBy([1, 2, 3, 4, 5], function(num) {
    return num % 2 == 0 ? 'even': 'odd';
});
</pre>

      <p id="shuffle">
        <b class="header">shuffle</b><code>_.shuffle(list)</code>
        <br />
        Вернет «перемешанную» копию <b>list</b>, используя 
        <a href="http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle">метод случайного перемешивания Фишера-Ятса</a>.
      </p>
      <pre>
// вернет [4, 1, 6, 3, 5, 2]
_.shuffle([1, 2, 3, 4, 5, 6]);
</pre>

      <p id="toArray">
        <b class="header">toArray</b><code>_.toArray(list)</code>
        <br />
        Сконвертирует <b>list</b> в массив.
	Удобен, например, для преобразования объекта <b>arguments</b>.
      </p>
      <pre>
// вернет [1, 2, 3]
(function(){ return _.toArray(arguments).slice(0); })(1, 2, 3);
</pre>

      <p id="size">
        <b class="header">size</b><code>_.size(list)</code>
        <br />
        Вернет количесво элементов в <b>list</b>.
      </p>
      <pre>
// вернет 3
_.size({one : 1, two : 2, three : 3});
</pre>

      <h2 id="arrays">Функции для работы с массивами</h2>

      <p>
        <i>
            На заметку: Все описанные ниже функции кроме массивов также будут работать
            с объектом <b>arguments</b>.
        </i>
      </p>

      <p id="first">
        <b class="header">first</b><code>_.first(array, [n])</code>
        <span class="alias">Alias: <b>head</b></span>
        <br />
        Вернет первый элемент массива <b>array</b>. Если был передан аргумент <b>n</b>, то 
        будет возвращен подмассив из <b>n</b> первых элементов родительского.
      </p>
      <pre>
// вернет 5
_.first([5, 4, 3, 2, 1]);
</pre>

      <p id="initial">
        <b class="header">initial</b><code>_.initial(array, [n])</code>
        <br />
        Вернет подмассив из всех элементов родительского, за исключением последнего.
        Довольно полезно при работе с объектом <tt>arguments</tt>. Если передан <b>n</b>, 
        то возвращенный подмассив не будет содержать <b>n</b> 
	последних элементов родительского.
      </p>
      <pre>
// вернет [5, 4, 3, 2]
_.initial([5, 4, 3, 2, 1]);
</pre>

      <p id="last">
        <b class="header">last</b><code>_.last(array, [n])</code>
        <br />
        Вернет последний элемент массива <b>array</b>. Если был передан аргумент <b>n</b>, то 
        будет возвращен подмассив из <b>n</b> последних элементов родительского.
      </p>
      <pre>
// вернет 1
_.last([5, 4, 3, 2, 1]);
</pre>

      <p id="rest">
        <b class="header">rest</b><code>_.rest(array, [index])</code>
        <span class="alias">Alias: <b>tail</b></span>
        <br />
        Вернет все, кроме первого элементы массива. Если передан <b>index</b>
        то вернет все элементы, позиция которых больше или равна <b>index</b>.
      </p>
      <pre>
// вернет [4, 3, 2, 1]
_.rest([5, 4, 3, 2, 1]);
</pre>

      <p id="compact">
        <b class="header">compact</b><code>_.compact(array)</code>
        <br />
        Вернет копию массива <b>array</b>, в котором удалены все «ложные» значения.
        Такие как: <i>false</i>, <i>null</i>, <i>0</i>, <i>""</i>,
        <i>undefined</i> и <i>NaN</i>.
      </p>
      <pre>
// вернет [1, 2, 3]
_.compact([0, 1, false, 2, '', 3]);
</pre>

      <p id="flatten">
        <b class="header">flatten</b><code>_.flatten(array, [shallow])</code>
        <br />
        Если массив <b>array</b>, обладает уровнями вложенности, приведет его к элементарному виду (вложенность может быть любой глубины). 
        Если аргумент <b>shallow</b> был установлен в true, будет устранен только один уровень вложенности.
        
      </p>
      <pre>
// вернет [1, 2, 3, 4]
_.flatten([1, [2], [3, [[[4]]]]]);

// вернет [1, 2, 3, [[4]]]
_.flatten([1, [2], [3, [[4]]]], true);
</pre>

      <p id="without">
        <b class="header">without</b><code>_.without(array, *values)</code>
        <br />
        Вернет копию массива <b>array</b>, из которой будут удалены все значения <b>values</b>.
	    Для сравнения будет использован оператор <i>===</i>.
      </p>
      <pre>
// вернет [2, 3, 4]
_.without([1, 2, 1, 0, 3, 1, 4], 0, 1);
</pre>

      <p id="partition">
          <b class="header">partition</b><code>_.partition(array, predicate)</code>
          <br />
          Разабьет <b>array</b> на 2: в первом будут содержаться элементы, удовлетворяющие
          <b>predicate</b> во втором — те, что нет..
      </p>
<pre>
// вернет [[1, 3, 5], [0, 2, 4]]
_.partition([0, 1, 2, 3, 4, 5], isOdd);
</pre>

      <p id="union">
        <b class="header">union</b><code>_.union(*arrays)</code>
        <br />
        Объеденит уникальные элементы всех массивов  <b>arrays</b>.
	Порядок элементов будет определен порядком их появления в исходных массивах.
      </p>
      <pre>
// вернет [1, 2, 3, 101, 10]
_.union([1, 2, 3], [101, 2, 1, 10], [2, 1]);
</pre>

      <p id="intersection">
        <b class="header">intersection</b><code>_.intersection(*arrays)</code>
        <br />
        Вернет массив из элементов, встречающихся в каждом из переданных массивов.
      </p>
      <pre>
// вернет [1, 2]
_.intersection([1, 2, 3], [101, 2, 1, 10], [2, 1]);
</pre>

      <p id="difference">
        <b class="header">difference</b><code>_.difference(array, *others)</code>
        <br />
        Эдентичен <b>without</b>, с той разницей, что значения, которые необходимо исключить передаются единым массивом <b>other</b>.
      </p>
      <pre>
// вернет [1, 3, 4]
_.difference([1, 2, 3, 4, 5], [5, 2, 10]);
</pre>

      <p id="uniq">
        <b class="header">uniq</b><code>_.uniq(array, [isSorted], [iterator])</code>
        <span class="alias">Alias: <b>unique</b></span>
        <br />
        Вернет версию массива <b>array</b>, состоящую только из уникальных элементов.
	Для сравнения объектов используется оператор <i>===</i>. Если <b>array</b> был предварительно отсортирован,
        то это стоит указать, передав <i>true</i> в качестве <b>isSorted</b>, т.к. это значительно повлияет на скорость работы алгоритма.
        Если Вы желаете определить уникальность элементов, после неких преобразований, то задайте функцию <b>iterator</b>, которая их выполнит.
      </p>
      <pre>
// вернет [1, 2, 3, 4]
_.uniq([1, 2, 1, 3, 1, 4]);
</pre>

      <p id="zip">
        <b class="header">zip</b><code>_.zip(*arrays)</code>
        <br />
        Вернет массив, каждым элементом которого будет массив, содержащий элементы всех
	переданных массивов (<b>arrays</b>), расположенные на соответствующих позициях.
        При работе с матрицами, <b>zip.apply</b>
        может быть использован для их транспонирования.
      </p>
      <pre>
// вернет [["moe", 30, true], ["larry", 40, false], ["curly", 50, false]]
_.zip(['moe', 'larry', 'curly'], [30, 40, 50], [true, false, false]);
</pre>

      <p id="object">
          <b class="header">object</b><code>_.object(list, [values])</code>
          <br />
          Сконвертирует массивы в объекты. Получает на вход массивы формата
          <tt>[key, value]</tt>, или отдельно массив ключей и массив значений.
          Если ключи дублируются, последнее значение будет результирующим.
      </p>
<pre>
// вернет {moe: 30, larry: 40, curly: 50}
_.object(['moe', 'larry', 'curly'], [30, 40, 50]);

// вернет {moe: 30, larry: 40, curly: 50}
_.object([['moe', 30], ['larry', 40], ['curly', 50]]);
</pre>

      <p id="indexOf">
        <b class="header">indexOf</b><code>_.indexOf(array, value, [isSorted])</code>
        <br />
        Вернет позицию, на которой находится элемент <b>value</b> в массиве <b>array</b>,
        или <i>-1</i>, если данный элемент не был найден. Использует нативную реализацию <b>indexOf</b>, 
		если таковая имеется. Если Вы работаете с большим массивом и знаете, что он был предварительно отсортирован, то укажите это, передав <tt>true</tt>
        как <b>isSorted</b>, в этом случае будет использован бинарный поиск, который значительно быстрее перебора.
      </p>
      <pre>
// вернет 1
_.indexOf([1, 2, 3], 2);
</pre>

      <p id="lastIndexOf">
        <b class="header">lastIndexOf</b><code>_.lastIndexOf(array, value, [fromIndex])</code>
        <br />
        Вернет позицию последнего вхождения элемента <b>value</b> в массиве <b>array</b>,
        или <i>-1</i>, если данный элемент не был найден. Если это возможно, использует нативную реализацию <b>lastIndexOf</b>.
        Если передать 3ий аргумент <b>fromIndex</b>, поиск будет вестить с этой позиции.
      </p>
      <pre>
// вернет 4
_.lastIndexOf([1, 2, 3, 1, 2, 3], 2);
</pre>

      <p id="sortedIndex">
          <b class="header">sortedIndex</b><code>_.sortedIndex(list, value, [iterator], [context])</code>
          <br />
          Использует бинарный поиск, чтобы определить позицию, куда <b>value</b>
          <i>должен</i> быть вставлен, чтобы не нарушился порядок отсортированного <b>list</b>.
          Если был передан <b>iterator</b>, он будет использован для вычисленя
          ранга при сортировке каждого из элементов <b>list</b>. Итератор так же может быть
          строкой, т.е. именем свойства, по которому будет проведена сортировка.
      </p>
<pre>
// вернет 3
_.sortedIndex([10, 20, 30, 40, 50], 35);

// вернет 1
var stooges = [{name: 'moe', age: 40}, {name: 'curly', age: 60}];
_.sortedIndex(stooges, {name: 'larry', age: 50}, 'age');
</pre>

      <p id="range">
        <b class="header">range</b><code>_.range([start], stop, [step])</code>
        <br />
        Удобная функция для создания наборов целых чисел, позволяющая их гибкую конфигурацию.
        <b>start</b>, если не передан, по-умолчанию будет установлен в 0;
 	<b>step</b> — в <i>1</i>. 
	Возвращаемый набор будет представлять из себя числа в интервале от <b>start</b> до <b>stop</b>, 
	каждое последующее из которых будет увеличено (или уменьшено) относительно предыдущего на <b>step</b>.
      </p>
      <pre>
// вернет [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
_.range(10);

// вернет [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
_.range(1, 11); 

// вернет [0, 5, 10, 15, 20, 25]
_.range(0, 30, 5);

// вернет [0, -1, -2, -3, -4, -5, -6, -7, -8, -9]
_.range(0, -10, -1); 

// вернет []
_.range(0);
</pre>

      <h2 id="functions">Работа с функциями</h2>

      <p id="bind">
        <b class="header">bind</b><code>_.bind(function, object, *arguments)</code>
        <br />
        Связывает функцию <b>function</b> с объектом <b>object</b>. Это значит, что 
		каждый раз когда она будет вызвана <i>this</i> будет указывать на <b>object</b>.
		Кроме того можно задать значения параметров по-умолчанию, для этого задайте их в
		<b>arguments</b>, данный прием называется <a href="http://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%80%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">каррингом</a>.
      </p>
      <pre>
var func = function(greeting){ return greeting + ': ' + this.name };
func = _.bind(func, {name : 'moe'}, 'hi');

// вернет 'hi: moe'
func();
</pre>

      <p id="bindAll">
        <b class="header">bindAll</b><code>_.bindAll(object, *methodNames)</code>
        <br />
        Свяжет с объектом <b>object</b>, все методы, переданные, как
        <b>methodNames</b>. Весьма полезно использовать при работе с обработчиками событий.
        Если <b>methodNames</b> не определены, то все методы самого <b>object</b>
        будут привязаны к нему.
      </p>
      <pre>
var buttonView = {
  label   : 'underscore',
  onClick : function(){ alert('clicked: ' + this.label); },
  onHover : function(){ console.log('hovering: ' + this.label); }
};

_.bindAll(buttonView);

// когда на кнопке произойдет клик, this.label будет содержать значение 'underscore'
jQuery('#underscore_button').bind('click', buttonView.onClick);
</pre>

      <p id="partial">
          <b class="header">partial</b><code>_.partial(function, *arguments)</code>
          <br />
          Вернет функцию, которая будет являться <b>function</b> с некоторыми пердустановленными
          аргументами, но без влияния на динамическое изменения контекста (<tt>this</tt>).
      </p>
<pre>
var add = function(a, b) { return a + b; };
add5 = _.partial(add, 5);

// вернет 15
add5(10);
</pre>

      <p id="memoize">
        <b class="header">memoize</b><code>_.memoize(function, [hashFunction])</code>
        <br />
        Мемоизирует функцию <b>function</b> путем кэширования вычисленного значения. 
        Полезно для ускорения медленных вычислений. Если задана 
        <b>hashFunction</b>, она будет использована для вычисления хэш ключа, который необходим для хранения результата. 
        По-умолчанию <b>hashFunction</b> использует первый аргумент мемоизированной функции в качестве ключа.
      </p>
      <pre>
var fibonacci = _.memoize(function(n) {
  return n &lt; 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);
});
</pre>

      <p id="delay">
        <b class="header">delay</b><code>_.delay(function, wait, *arguments)</code>
        <br />
        Очень похожа на <b>setTimeout</b>, вызовет <b>function</b> по прошествии заданного (<b>wait</b>)
        вермени в миллисекундах. Если были переданы дополнительные аргументы <b>arguments</b>, они будут
        переданы в <b>function</b> при ее вызове.
      </p>
      <pre>
var log = _.bind(console.log, console);

// выведет на консоль 'logged later' через секунду после вызова .delay
_.delay(log, 1000, 'logged later');</pre>

      <p id="defer">
        <b class="header">defer</b><code>_.defer(function)</code>
        <br />
		Откладывает вызов <b>function</b> до момента, пока не очистится текущий стек вызовов.
        Аналогична использованию <b>setTimeout</b> с задержкой равной 0. 
		Полезна при затратных с точки зрения производительности вычислениях или рендеринге
		HTML, чтобы не «замораживать» пользовательский интерфейс на это время.
      </p>
      <pre>
// выход из функции будет осуществлен до того, как будет запущена alert.
_.defer(function(){ alert('deferred'); });
</pre>

      <p id="throttle">
        <b class="header">throttle</b><code>_.throttle(function, wait, [options])</code>
        <br />
		Вернет версию функции, которая, при повторных вызовах, 
		исполниться не чаще одного раза в заданный промежуток  <b>wait</b>.
		Полезна для использования при обработке событий, которые происходят слишком часто.
      </p>
      <p>
          По-умолчанию <b>throttle</b> выполнит функцию, как только Вы ее вызовете (в первый раз)
          при последующих вызовах втечении <b>wait</b> выполняться она не будет. Если Вы хотите
          чтобы при первоначальном (первый раз) вызове она не выолнялась — нужно передать
          <tt>{leading: false}</tt> в качестве options.
      </p>
      <pre>
var throttled = _.throttle(updatePosition, 100);
$(window).scroll(throttled);
</pre>

      <p id="debounce">
        <b class="header">debounce</b><code>_.debounce(function, wait, [immediate])</code>
        <br />
		Вернет версию функции, исполнение которой начнется не ранее, чем
		истечет промежуток <b>wait</b>, после ее последнего вызова.
		Полезно для реализации логики, которая зависит от завершения действий пользователя. 
		Например, проверить орфографию комментария пользователя лучше будет после того, как он его окончательно введет,
		а динамечески перерассчитать разметку после того, как пользователь закончит изменять размер окна.
      </p>

      <p>
          Если передать <tt>true</tt> в качестве аргумента <b>immediate</b> функция будет
          выполнена сразу, не дожидаяся прошествия <b>wait</b>. Полезно в случаях когда нужно
          предоствратить повторные действия, например отправку формы.
      </p>

<pre>
var lazyLayout = _.debounce(calculateLayout, 300);
$(window).resize(lazyLayout);
</pre>

      <p id="once">
        <b class="header">once</b><code>_.once(function)</code>
        <br />
		Вернет функцию, которая может быть вызвана только один раз.
		Все последующие ее вызовы будут возвращать значение, вычисленное в первый раз. 
        Можно испоьзовать для создания функций-инициализаторов.
      </p>
      <pre>
var initialize = _.once(createApplication);

// код будет выполнен единожды
initialize();
initialize();</pre>

      <p id="after">
        <b class="header">after</b><code>_.after(count, function)</code>
        <br />
		Вернет копию функции <b>function</b>, модифицированную таким образом, 
		что она будет запущена только после того, как будет вызвана  <b>count</b> раз. 
		Удобно использовать при работе с асинхронными запроса, например, 
		чтобы убедиться, что все обращения к серверу завершились.<br/>
		Если же указать <b>count</b> равным <b>0</b>, то <b>function</b> будет вызвана немедленно.
      </p>
      <pre>
var renderNotes = _.after(notes.length, render);

// renderNotes будет вызвана лишь на последней итерации each
_.each(notes, function(note) {
  note.asyncSave({success: renderNotes}); 
});</pre>

      <p id="now">
          <b class="header">now</b><code>_.now()</code>
          <br />
          Вернет текущую метку времени (Interger), используя самую быструю доступную в текущей
          среде выполнения функцию. Полезно при реализации таймеров/анимаций.
      </p>
<pre>
// вернет 1392066795351
_.now();
</pre>

      <p id="wrap">
        <b class="header">wrap</b><code>_.wrap(function, wrapper)</code>
        <br />
		Передаст функцию <b>function</b> в функцию <b>wrapper</b>,
        в качестве первого аргумента. Это позволит вызвать ее из <b>wrapper</b>
        в любое удобное время в зависимости от условий.
      </p>
      <pre>
var hello = function(name) { return "hello: " + name; };
hello = _.wrap(hello, function(func) {
  return "before, " + func("moe") + ", after";
});

// вернет 'before, hello: moe, after'
hello();
</pre>

      <p id="compose">
        <b class="header">compose</b><code>_.compose(*functions)</code>
        <br />
		Вернет функцию, скомпонованную из переданных в аргументах, таким образом, что
		каждая функция будет вызвана с аргументом, значение которого вычислено путем вызова
		следующей за ней (в аргументах <tt>compose</tt>) функции.
        В терминах математики, результатом
        композиции функций <i>f()</i>, <i>g()</i>, и <i>h()</i> будет следующее выразение:
        <i>f(g(h()))</i>.
      </p>
      <pre>
var greet    = function(name){ return "hi: " + name; };
var exclaim  = function(statement){ return statement + "!"; };
var welcome = _.compose(exclaim, greet);

// вернет 'hi: moe!'
welcome('moe');
</pre>

      <h2 id="objects">Функции для работы с объектами</h2>

      <p id="keys">
        <b class="header">keys</b><code>_.keys(object)</code>
        <br />
        Вернет массив, состоящий из названий всех свойств <b>object</b>.
      </p>
      <pre>
// вернет ["one", "two", "three"]
_.keys({one : 1, two : 2, three : 3});
</pre>

      <p id="values">
        <b class="header">values</b><code>_.values(object)</code>
        <br />
        Вернет массив, состоящий из значений всех свойств <b>object</b>.
      </p>
      <pre>
// вернет [1, 2, 3]
_.values({one : 1, two : 2, three : 3});
</pre>

      <p id="pairs">
          <b class="header">pairs</b><code>_.pairs(object)</code>
          <br />
          Сконвертирует объект с набор пар формата<tt>[key, value]</tt>.
      </p>
<pre>
// вернет [["one", 1], ["two", 2], ["three", 3]]
_.pairs({one: 1, two: 2, three: 3});
</pre>

      <p id="invert">
          <b class="header">invert</b><code>_.invert(object)</code>
          <br />
          Вернет копию <b>object</b> где ключи — значения, а значения — ключи.
          Чтобы это заработало, нужно чтобы все значения свойств объекта могли быть уникально
          сериализованы в строки.
      </p>
<pre>
// вернет {Moses: "Moe", Louis: "Larry", Jerome: "Curly"};
_.invert({Moe: "Moses", Larry: "Louis", Curly: "Jerome"});
</pre>

      <p id="object-functions">
        <b class="header">functions</b><code>_.functions(object)</code>
        <span class="alias">Alias: <b>methods</b></span>
        <br />
        Вернет отсортированный массив, состоящий из названий всех методов <b>object</b>.
      </p>
      <pre>
// вернет ["all", "any", "bind", "bindAll", "clone", "compact", "compose" ...
_.functions(_);
</pre>

      <p id="extend">
        <b class="header">extend</b><code>_.extend(destination, *sources)</code>
        <br />
        Скопирует все свойства из объектов <b>source</b> в объект
        <b>destination</b>. Если объекты <b>source</b> имеют одноименные свойства, то значения каждого будут затерты значениями из следующего.
      </p>
      <pre>
// вернет {name : 'moe', age : 50}
_.extend({name : 'moe'}, {age : 50});
</pre>

      <p id="pick">
          <b class="header">pick</b><code>_.pick(object, *keys)</code>
          <br />

          Вернет копию <b>object</b>, где будут значения только для ключей, указанных в <b>keys</b>.
      </p>
<pre>
// вернет {name: 'moe', age: 50}

_.pick({name: 'moe', age: 50, userid: 'moe1'}, 'name', 'age');
</pre>

      <p id="omit">
          <b class="header">omit</b><code>_.omit(object, *keys)</code>
          <br />
          Вернет копию <b>object</b>, из которой будут удалены значения по ключам, заданным в
          <b>keys</b>.
      </p>
<pre>
// вернет {name: 'moe', age: 50}

_.omit({name: 'moe', age: 50, userid: 'moe1'}, 'userid');
</pre>

      <p id="defaults">
        <b class="header">defaults</b><code>_.defaults(object, *defaults)</code>
        <br />
        Проинициализирует неопределенные свойства <b>object</b> значениями одноименных свойств из
        <b>defaults</b>. Если же какие-то своейства <b>object</b> уже определены, то они не будут изменены.
      </p>
      <pre>
var iceCream = {flavor : "chocolate"};

// вернет {flavor : "chocolate", sprinkles : "lots"}
_.defaults(iceCream, {flavor : "vanilla", sprinkles : "lots"});
</pre>

      <p id="clone">
        <b class="header">clone</b><code>_.clone(object)</code>
        <br />
        Вернет клон <b>object</b>. Любые, входящие в его состав массивы или 
        объекты будут скопированы по ссылке, а <i>не</i> продублированы.
      </p>
      <pre>
// вернет {name : 'moe'}
_.clone({name : 'moe'});
</pre>

      <p id="tap">
        <b class="header">tap</b><code>_.tap(object, interceptor)</code>
        <br />
        Вызовет <b>interceptor</b> с <b>object</b> в качестве аргумента и затем вернет <b>object</b>.
        Основная задача данного метода: возможность «вклиниться» в цепочку вызовов, для того, чтобы произвести некие операции с промежуточными итогами.
      </p>
      <pre>
// на консоль будет выведен массив [2, 200], затем вызов value вернет [4, 40000]
_([1,2,3,200]).chain().
  filter(function(num) { return num % 2 == 0; }).
  tap(console.log).
  map(function(num) { return num * num }).
  value();
</pre>

      <p id="has">
        <b class="header">has</b><code>_.has(object, key)</code>
        <br />
        Проверяет, есть ли свойство <b>key</b> в объекте <b>object</b>? Для выяснения этого факта будет вызвана
        <tt>object.hasOwnProperty(key)</tt>, но при этом будет использована «безопасная» ссылка на  
        <tt>hasOwnProperty</tt>, подробнее об этом можно прочитать 
        <a href="http://www.devthought.com/2012/01/18/an-object-is-not-a-hash/">тут</a>.
      </p>
      <pre>
// true
_.has({a: 1, b: 2, c: 3}, "b");
</pre>

      <p id="property">
          <b class="header">property</b><code>_.property(key)</code>
          <br />
          Вернет функцию, которая в свою очередь вернет значение свойства <tt>key</tt>
          для переданного в нее объекта.
      </p>
<pre>
var moe = {name: 'moe'};

// вернет true
'moe' === _.property('name')(moe);
</pre>

      <p id="matches">
          <b class="header">matches</b><code>_.matches(attrs)</code>
          <br />
          Вернет функцию, с помощью которой можно будет определить обладает ли объект
          нужными свойствами и значениями этих свойств.
      </p>
<pre>
var ready = _.matches({selected: true, visible: true});
var readyToGoList = _.filter(list, ready);
</pre>

      <p id="isEqual">
        <b class="header">isEqual</b><code>_.isEqual(object, other)</code>
        <br />
        Предоставляет возможность полноценного сравнения двух объектов, т.е. сравнения каждого из их свойств.
      </p>
      <pre>
var moe   = {name : 'moe', luckyNumbers : [13, 27, 34]};
var clone = {name : 'moe', luckyNumbers : [13, 27, 34]};

// false
moe == clone;

// true
_.isEqual(moe, clone);
</pre>

      <p id="isEmpty">
        <b class="header">isEmpty</b><code>_.isEmpty(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> не содержит данных.
      </p>
      <pre>
// false
_.isEmpty([1, 2, 3]);

// true
_.isEmpty({});
</pre>

      <p id="isElement">
        <b class="header">isElement</b><code>_.isElement(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является DOM элементом.
      </p>
      <pre>
// true
_.isElement(jQuery('body')[0]);
</pre>

      <p id="isArray">
        <b class="header">isArray</b><code>_.isArray(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является массивом (Array).
      </p>
      <pre>
(// false
(function(){ return _.isArray(arguments); })();

// true
_.isArray([1,2,3]);
</pre>

      <p id="isObject">
          <b class="header">isObject</b><code>_.isObject(value)</code>
          <br />
          Вернет <i>true</i>, если <b>value</b> Object. Имейте в виду, что в JavaScript
          массивы и функции — objects, а строки могут как примитивом, так и объектом strings.
      </p>
<pre>
// true
_.isObject({});

// false
_.isObject(1);
</pre>

      <p id="isArguments">
        <b class="header">isArguments</b><code>_.isArguments(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является объектом arguments.
      </p>
      <pre>
// true
(function(){ return _.isArguments(arguments); })(1, 2, 3);

// false
_.isArguments([1,2,3]);
</pre>

      <p id="isFunction">
        <b class="header">isFunction</b><code>_.isFunction(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является функцией (Function).
      </p>
      <pre>
// true
_.isFunction(alert);
</pre>

      <p id="isString">
        <b class="header">isString</b><code>_.isString(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является строкой (String).
      </p>
      <pre>
// true
_.isString("moe");
</pre>

      <p id="isNumber">
        <b class="header">isNumber</b><code>_.isNumber(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является числом (Number, включая константу NaN).
      </p>
      <pre>
// true
_.isNumber(8.4 * 5);
</pre>

      <p id="isFinite">
          <b class="header">isFinite</b><code>_.isFinite(object)</code>
          <br />
          Вернет <i>true</i> если <b>object</b> Number и не является Infinite.
      </p>
<pre>
// true
_.isFinite(-101);

// false
_.isFinite(-Infinity);
</pre>

      <p id="isBoolean">
        <b class="header">isBoolean</b><code>_.isBoolean(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является булевым значением (true или false).
      </p>
      <pre>
// false
_.isBoolean(null);
</pre>

      <p id="isDate">
        <b class="header">isDate</b><code>_.isDate(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является датой (Date).
      </p>
      <pre>
// true
_.isDate(new Date());
</pre>

      <p id="isRegExp">
        <b class="header">isRegExp</b><code>_.isRegExp(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является регулярным выражением (RegExp).
      </p>
      <pre>
// true
_.isRegExp(/moe/);
</pre>

      <p id="isNaN">
        <b class="header">isNaN</b><code>_.isNaN(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является <i>NaN</i>.<br /> Примечание: 
 	разница с <b>isNaN</b> в том, что она так же вернет <i>true</i> для значения <i>undefined</i>.
      </p>
      <pre>
// true
_.isNaN(NaN);

// true
isNaN(undefined);

// false
_.isNaN(undefined);
</pre>

      <p id="isNull">
        <b class="header">isNull</b><code>_.isNull(object)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является <i>null</i>.
      </p>
      <pre>
// true
_.isNull(null);

// false
_.isNull(undefined);
</pre>

      <p id="isUndefined">
        <b class="header">isUndefined</b><code>_.isUndefined(variable)</code>
        <br />
        Вернет <i>true</i> если <b>object</b> является <i>undefined</i>.
      </p>
      <pre>
// true
_.isUndefined(window.missingVariable);
</pre>

      <h2 id="utility">Функции-утилиты</h2>

      <p id="noConflict">
        <b class="header">noConflict</b><code>_.noConflict()</code>
        <br />
        Отвяжет переменную "_" от объекта <b>Underscore</b>.Вернет ссылку на объект <b>Underscore</b>.
      </p>
      <pre>
var underscore = _.noConflict();</pre>

      <p id="identity">
        <b class="header">identity</b><code>_.identity(value)</code>
        <br />
        Вернет значение, которое было передано в качестве аргумента (<tt>f(x) = x</tt>).<br />
        Используется повсюду в Underscore в качестве дефолтного итератора.
      </p>
      <pre>
var moe = {name : 'moe'};

// true
moe === _.identity(moe);</pre>

      <p id="constant">
          <b class="header">constant</b><code>_.constant(value)</code>
          <br />
          Вернет функцию, которая будет всегда возвращать значениен, переданное <tt>_.constant</tt>,
          в качестве аргумента.
      </p>
<pre>
var moe = {name: 'moe'};

// true
moe === _.constant(moe)();
</pre>

      <p id="times">
        <b class="header">times</b><code>_.times(n, iterator)</code>
        <br />
        Вызовет <b>iterator</b> <b>n</b> раз.
      </p>
      <pre>
_(3).times(function(){ genie.grantWish(); });</pre>

      <p id="random">
          <b class="header">random</b><code>_.random([min], max)</code>
          <br />
          Вернет случайное целое между <b>min</b> и <b>max</b> включительно.
          Если передать только один аргумент, то возвращенное целое будет находиться в интервале от 0 до этого числа.
      </p>
<pre>
// 42
_.random(14, 100);


// 12
_.random(14);
</pre>

      <p id="mixin">
        <b class="header">mixin</b><code>_.mixin(object)</code>
        <br />
        Позволяет расширять Underscore собственными функциями. 
	Принимает объект следующего вида <tt>{name: function}</tt>, где <b>name</b> — имя функции, 
	а <b>function</b> определение.
      </p>
      <pre>
_.mixin({
  capitalize : function(string) {
    return string.charAt(0).toUpperCase() + string.substring(1).toLowerCase();
  }
});

// вернет "Fabio"
_("fabio").capitalize();
</pre>

      <p id="uniqueId">
        <b class="header">uniqueId</b><code>_.uniqueId([prefix])</code>
        <br />
        Сгенерирует уникальный id, для, например DOM элемента.
	Если был передан <b>prefix</b>, то сгенерированное имя будет добавлено к нему.
      </p>
      <pre>
// вернет 'contact_104'
_.uniqueId('contact_');</pre>

      <p id="escape">
        <b class="header">escape</b><code>_.escape(string)</code>
        <br />
        Проэкранирует в с строке <b>string</b> спецсимволы 
	(<tt>&amp;</tt>, <tt>&lt;</tt>, <tt>&gt;</tt>, <tt>"</tt>, <tt>'</tt>, <tt>/</tt>),
	сделав возможным ее безболезненную вставку в HTML.
      </p>
      <pre>
// "Curly, Larry &amp;amp; Moe"
_.escape('Curly, Larry &amp; Moe');</pre>

      <p id="unescape">
          <b class="header">unescape</b><code>_.unescape(string)</code>
          <br />
          Работает в обратную стороно от <a href="#escape"><b>escape</b></a>, заменит
          <tt>&amp;amp;</tt>, <tt>&amp;lt;</tt>, <tt>&amp;gt;</tt>,
          <tt>&amp;quot;</tt>, and <tt>&amp;#x27;</tt>
          на их не экранированные варианты.
      </p>
<pre>
// "Curly, Larry &amp; Moe"
_.unescape('Curly, Larry &amp;amp; Moe');
</pre>

      <p id="result">
          <b class="header">result</b><code>_.result(object, property)</code>
          <br />
          Если <b>property</b> — функция, она будет вызвана в контексте  <b>object</b>;
          если нет вернет его значение.
      </p>
<pre>
var object = {cheese: 'crumpets', stuff: function(){ return 'nonsense'; }};

// "crumpets"
_.result(object, 'cheese');

// "nonsense"
_.result(object, 'stuff');=
</pre>

      <p id="template">
        <b class="header">template</b><code>_.template(templateString, [data], [settings])</code>
        <br />
        Компилирует JavaScript шаблоны в функции, которые могут быть вызваны для рендеринга этого шаблона.
	    Полезно при рендеринге объемных и сложных частей HTML разметки из JSON данных.
	    Полученные функции во время обработки данных могут интерполировать переменные, для чего используется следующий синтаксис внутри шаблона:
	    <tt>&lt;%= &hellip; %&gt;</tt>, а также производить вычисления <tt>&lt;% &hellip; %&gt;</tt>.
        Если вы выводите внутри шаблона данные и хотите, чтобы они были HTML-безопасными (спец. символы будут экранированы),
        используйте такой синтаксис: <tt>&lt;%- &hellip; %&gt;</tt>.
        Если при вызове функции-шаблонизатора передать в нее аргумент <b>data</b>,
        то его свойства будут соответствовать одноименным свободным переменным внутри функции.
        Если же передать <b>data</b> во время вызова <b>template</b>, то
        результатом его работы будет не функция-шаблонизатор, а отрендеренный шаблон.<br/>
        В скомплированных функциях сохраняется динамический контекст, так что внутри них можно использовать <b>this</b>.
      </p>
      <p>
          А передав <b>settings</b> можно переопределить любые настройки шаблонизатора,
          определенные в <tt>_.templateSettings</tt>.
      </p>
      <pre>
var compiled = _.template("hello: &lt;%= name %&gt;");

// вернет "hello: moe"
compiled({name : 'moe'});


var list = "&lt;% _.each(people, function(name) { %&gt; &lt;li&gt;&lt;%= name %&gt;&lt;/li&gt; &lt;% }); %&gt;";

// вернет "&lt;li&gt;moe&lt;/li&gt;&lt;li&gt;curly&lt;/li&gt;&lt;li&gt;larry&lt;/li&gt;"
_.template(list, {people : ['moe', 'curly', 'larry']});


var template = _.template("&lt;b&gt;&lt;%- value %&gt;&lt;/b&gt;");

// вернет "&lt;b&gt;&amp;lt;script&amp;gt;&lt;/b&gt;"
template({value : '&lt;script&gt;'});</pre>

      <p>
        В некоторых случаях вместо <tt>&lt;%= ... %&gt;</tt> будет лучше использовать 
	<tt>print</tt> внутри шаблонов.
      </p>
      
<pre>
var compiled = _.template("&lt;% print('Hello ' + epithet); %&gt;");

// вернет "Hello stooge."
compiled({epithet: "stooge"});</pre>

      <p>
        Если по какой-то причине Вам не нравятся дескрипторы, используемые для вывода 
	переменных и вставки исполняемого кода в шаблон, описанные выше,
	Вы можете изменить настройки шаблонизатора Underscore, чтобы использовать для этих целей привычные символы.
        Задайте регулярным выражением свойство <b>interpolate</b>, и (необязательно) свойство <b>evaluate</b>,
	для определения участков шаблона, которые должны быть просто выведены в HTML или выполнены, как JavaScript код.
        Если же свойство <b>evaluate</b> не было определено, то используя новые дескрипторы Вы сможете лишь выводить в HTML значения переменных.
        В качестве примера можно взглянуть на синтаксис шаблонизатора
        <a href="http://github.com/janl/mustache.js#readme">Mustache.js</a>:
      </p>

      <pre>
_.templateSettings = {
  interpolate : /\{\{(.+?)\}\}/g
};

var template = _.template("Hello {{ name }}!");

// вернет "Hello Mustache!"
template({name : "Mustache"});</pre>


      <h2 id="chaining">Цепные вызовы</h2>

      <p>
        Вы можете использовать Underscore как с применением объектоно-ориентированного подхода, так и процедурного,
        в зависимости от ваших привычек и предпочтений. В качестве иллюстрации, взгляните на 2 строки кода ниже, они
        выполняют одну и ту же задачу, удваивают каждое число в массиве.
      </p>

    <pre>
_.map([1, 2, 3], function(n){ return n * 2; });
_([1, 2, 3]).map(function(n){ return n * 2; });</pre>

      <p>
        Вызвав <tt>chain</tt> на объекте, с которым собираетесь работать, 
        вы получите эффект, при котором каждый последующий метод в цепочке 
        будет вызван на объекте, возвращенным предыдущим методом.
        Чтобы получить результат отработавших методов, нужно вызвать 
        <tt>value</tt>. Ниже приведен пример цепного вызова
        <b>map/flatten/reduce</b>, в результате мы получим количество каждого слова в приведенной песне.
      </p>

<pre>
var lyrics = [
  {line : 1, words : "I'm a lumberjack and I'm okay"},
  {line : 2, words : "I sleep all night and I work all day"},
  {line : 3, words : "He's a lumberjack and he's okay"},
  {line : 4, words : "He sleeps all night and he works all day"}
];

// вернет {lumberjack : 2, all : 4, night : 2 ... }
_.chain(lyrics)
  .map(function(line) { return line.words.split(' '); })
  .flatten()
  .reduce(function(counts, word) {
    counts[word] = (counts[word] || 0) + 1;
    return counts;
}, {}).value();
</pre>

      <p>
        Кроме того, цепочка, сделанная из объекта Underscore, обладает всеми методами 
        <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/prototype">
	стандартного объекта Array</a>, а это значит, что Вы можете ее изменить, например, с помощью
        <tt>reverse</tt> или <tt>push</tt>, и затем продолжить работу.
      </p>

      <p id="chain">
        <b class="header">chain</b><code>_.chain(obj)</code>
        <br />
        Вернет объект-оболочку, на котором можно будет вызвать любой из методов underscore. 
        Результатом работы вызванных методов будет такой же объект.
        Для получения результата работы цепочки методов нужно вызвать <tt>value</tt>.
      </p>
      <pre>
var stooges = [{name : 'curly', age : 25}, {name : 'moe', age : 21}, {name : 'larry', age : 23}];

// youngest будет установлена в "moe is 21"
var youngest = _.chain(stooges)
  .sortBy(function(stooge){ return stooge.age; })
  .map(function(stooge){ return stooge.name + ' is ' + stooge.age; })
  .first()
  .value(); 
</pre>

      <p id="value">
        <b class="header">value</b><code>_(obj).value()</code>
        <br />
        Вернет значение, извлеченное из объекта-оболочки.
      </p>
      <pre>
// вернет [1, 2, 3]
_([1, 2, 3]).value();
</pre>

      <h2 id="links">Links &amp; Suggested Reading</h2>

      <p>
        <a href="http://mirven.github.com/underscore.lua/">Underscore.lua</a>,
        a Lua port of the functions that are applicable in both languages.
        Includes OOP-wrapping and chaining.
        The <a href="http://github.com/mirven/underscore.lua">source</a> is
        available on GitHub.
      </p>
      
      <p>
        <a href="http://brianhaveri.github.com/Underscore.php/">Underscore.php</a>,
        a PHP port of the functions that are applicable in both languages.
        Includes OOP-wrapping and chaining.
        The <a href="http://github.com/brianhaveri/Underscore.php">source</a> is
        available on GitHub.
      </p>
      
      <p>
        <a href="http://vti.github.com/underscore-perl/">Underscore-perl</a>,
        a Perl port of many of the Underscore.js functions, 
        aimed at on Perl hashes and arrays, also 
        <a href="https://github.com/vti/underscore-perl/">available on GitHub</a>.
      </p>
      
      <p>
        <a href="https://github.com/edtsech/underscore.string">Underscore.string</a>,
        an Underscore extension that adds functions for string-manipulation: 
        <tt>trim</tt>, <tt>startsWith</tt>, <tt>contains</tt>, <tt>capitalize</tt>,
        <tt>reverse</tt>, <tt>sprintf</tt>, and more.
      </p>

      <p>
        Ruby's <a href="http://ruby-doc.org/core/classes/Enumerable.html">Enumerable</a> module.
      </p>

      <p>
        <a href="http://www.prototypejs.org/">Prototype.js</a>, which provides
        JavaScript with collection functions in the manner closest to Ruby's Enumerable.
      </p>

      <p>
        Oliver Steele's
        <a href="http://osteele.com/sources/javascript/functional/">Functional JavaScript</a>,
        which includes comprehensive higher-order function support as well as string lambdas.
      </p>
      
      <p>
        Michael Aufreiter's <a href="http://substance.io/#michael/data-js">Data.js</a>,
        a data manipulation + persistence library for JavaScript.
      </p>

      <p>
        Python's <a href="http://docs.python.org/library/itertools.html">itertools</a>.
      </p>

      <h2 id="changelog">Change Log</h2>
      
      <p>
        <b class="header">1.3.1</b> &mdash; <small><i>Jan. 23, 2012</i></small><br />
        <ul>
          <li>
            Added an <tt>_.has</tt> function, as a safer way to use <tt>hasOwnProperty</tt>.
          </li>
          <li>
            Added <tt>_.collect</tt> as an alias for <tt>_.map</tt>. Smalltalkers, rejoice.
          </li>
          <li>
            Reverted an old change so that <tt>_.extend</tt> will correctly copy 
            over keys with undefined values again.
          </li>
          <li>
            Bugfix to stop escaping slashes within interpolations in <tt>_.template</tt>.
          </li>
        </ul>
      </p>
      
      <p>
        <b class="header">1.3.0</b> &mdash; <small><i>Jan. 11, 2012</i></small><br />
        <ul>
          <li>
            Removed AMD (RequireJS) support from Underscore. If you'd like to use
            Underscore with RequireJS, you can load it as a normal script, wrap
            or patch your copy, or download a forked version.
          </li>
        </ul>
      </p>
      
      <p>
        <b class="header">1.2.4</b> &mdash; <small><i>Jan. 4, 2012</i></small><br />
        <ul>
          <li>
            You now can (and probably should, as it's simpler) 
            write <tt>_.chain(list)</tt> 
            instead of <tt>_(list).chain()</tt>.
          </li>
          <li>
            Fix for escaped characters in Underscore templates, and for supporting
            customizations of <tt>_.templateSettings</tt> that only define one or
            two of the required regexes.
          </li>
          <li>
            Fix for passing an array as the first argument to an <tt>_.wrap</tt>'d function.
          </li>
          <li>
            Improved compatibility with ClojureScript, which adds a <tt>call</tt>
            function to <tt>String.prototype</tt>.
          </li>
        </ul>
      </p>
      
      <p>
        <b class="header">1.2.3</b> &mdash; <small><i>Dec. 7, 2011</i></small><br />
        <ul>
          <li>
            Dynamic scope is now preserved for compiled <tt>_.template</tt> functions,
            so you can use the value of <tt>this</tt> if you like.
          </li>
          <li>
            Sparse array support of <tt>_.indexOf</tt>, <tt>_.lastIndexOf</tt>.
          </li>
          <li>
            Both <tt>_.reduce</tt> and <tt>_.reduceRight</tt> can now be passed an
            explicitly <tt>undefined</tt> value. (There's no reason why you'd 
            want to do this.)
          </li>
        </ul>
      </p>
      
      <p>
        <b class="header">1.2.2</b> &mdash; <small><i>Nov. 14, 2011</i></small><br />
        <ul>
          <li>
            Continued tweaks to <tt>_.isEqual</tt> semantics. Now JS primitives are
            considered equivalent to their wrapped versions, and arrays are compared
            by their numeric properties only <small>(#351)</small>.
          </li>
          <li>
            <tt>_.escape</tt> no longer tries to be smart about not double-escaping
            already-escaped HTML entities. Now it just escapes regardless <small>(#350)</small>.
          </li>
          <li>
            In <tt>_.template</tt>, you may now leave semicolons out of evaluated
            statements if you wish: <tt>&lt;% }) %&gt;</tt> <small>(#369)</small>.
          </li>
          <li>
            <tt>_.after(callback, 0)</tt> will now trigger the callback immediately,
            making "after" easier to use with asynchronous APIs <small>(#366)</small>. 
          </li>
        </ul>
      </p>
      
      <p>
        <b class="header">1.2.1</b> &mdash; <small><i>Oct. 24, 2011</i></small><br />
        <ul>
          <li>
            Several important bug fixes for <tt>_.isEqual</tt>, which should now 
            do better on mutated Arrays, and on non-Array objects with 
            <tt>length</tt> properties. <small>(#329)</small>
          </li>
          <li>
            <b>jrburke</b> contributed Underscore exporting for AMD module loaders,
            and <b>tonylukasavage</b> for Appcelerator Titanium. 
            <small>(#335, #338)</small>
          </li>
          <li>
            You can now <tt>_.groupBy(list, 'property')</tt> as a shortcut for
            grouping values by a particular common property.
          </li>
          <li>
            <tt>_.throttle</tt>'d functions now fire immediately upon invocation, 
            and are rate-limited thereafter <small>(#170, #266)</small>.
          </li>
          <li>
            Most of the <tt>_.is[Type]</tt> checks no longer ducktype.
          </li>
          <li>
            The <tt>_.bind</tt> function now also works on constructors, a-la
            ES5 ... but you would never want to use <tt>_.bind</tt> on a 
            constructor function.
          </li>
          <li>
            <tt>_.clone</tt> no longer wraps non-object types in Objects.
          </li>
          <li>
            <tt>_.find</tt> and <tt>_.filter</tt> are now the preferred names for
            <tt>_.detect</tt> and <tt>_.select</tt>.
          </li>
        </ul>
      </p>
      
      <p>
        <b class="header">1.2.0</b> &mdash; <small><i>Oct. 5, 2011</i></small><br />
        <ul>
          <li>
            The <tt>_.isEqual</tt> function now 
            supports true deep equality comparisons, with checks for cyclic structures,
            thanks to Kit Cambridge.
          </li>
          <li>
            Underscore templates now support HTML escaping interpolations, using 
            <tt>&lt;%- ... %&gt;</tt> syntax. 
          </li>
          <li>
            Ryan Tenney contributed <tt>_.shuffle</tt>, which uses a modified 
            Fisher-Yates to give you a shuffled copy of an array. 
          </li>
          <li>
            <tt>_.uniq</tt> can now be passed an optional iterator, to determine by 
            what criteria an object should be considered unique.
          </li>
          <li>
            <tt>_.last</tt> now takes an optional argument which will return the last
            N elements of the list.
          </li>
          <li>
            A new <tt>_.initial</tt> function was added, as a mirror of <tt>_.rest</tt>,
            which returns all the initial values of a list (except the last N). 
          </li>
        </ul>
      </p>
      
      <p>
        <b class="header">1.1.7</b> &mdash; <small><i>July 13, 2011</i></small><br />
        Added <tt>_.groupBy</tt>, which aggregates a collection into groups of like items.
        Added <tt>_.union</tt> and <tt>_.difference</tt>, to complement the 
        (re-named) <tt>_.intersection</tt>.
        Various improvements for support of sparse arrays.
        <tt>_.toArray</tt> now returns a clone, if directly passed an array.
        <tt>_.functions</tt> now also returns the names of functions that are present
        in the prototype chain.
      </p>
            
      <p>
        <b class="header">1.1.6</b> &mdash; <small><i>April 18, 2011</i></small><br />
        Added <tt>_.after</tt>, which will return a function that only runs after
        first being called a specified number of times.
        <tt>_.invoke</tt> can now take a direct function reference.
        <tt>_.every</tt> now requires an iterator function to be passed, which
        mirrors the ECMA5 API.
        <tt>_.extend</tt> no longer copies keys when the value is undefined.
        <tt>_.bind</tt> now errors when trying to bind an undefined value.
      </p>
      
      <p>
        <b class="header">1.1.5</b> &mdash; <small><i>Mar 20, 2011</i></small><br />
        Added an <tt>_.defaults</tt> function, for use merging together JS objects
        representing default options.
        Added an <tt>_.once</tt> function, for manufacturing functions that should
        only ever execute a single time.
        <tt>_.bind</tt> now delegates to the native ECMAScript 5 version, 
        where available.
        <tt>_.keys</tt> now throws an error when used on non-Object values, as in
        ECMAScript 5.
        Fixed a bug with <tt>_.keys</tt> when used over sparse arrays.
      </p>
      
      <p>
        <b class="header">1.1.4</b> &mdash; <small><i>Jan 9, 2011</i></small><br />
        Improved compliance with ES5's Array methods when passing <tt>null</tt> 
        as a value. <tt>_.wrap</tt> now correctly sets <tt>this</tt> for the
        wrapped function. <tt>_.indexOf</tt> now takes an optional flag for
        finding the insertion index in an array that is guaranteed to already
        be sorted. Avoiding the use of <tt>.callee</tt>, to allow <tt>_.isArray</tt>
        to work properly in ES5's strict mode.
      </p>
      
      <p>
        <b class="header">1.1.3</b> &mdash; <small><i>Dec 1, 2010</i></small><br />
        In CommonJS, Underscore may now be required with just: <br />
        <tt>var _ = require("underscore")</tt>.
        Added <tt>_.throttle</tt> and <tt>_.debounce</tt> functions.
        Removed <tt>_.breakLoop</tt>, in favor of an ECMA5-style un-<i>break</i>-able
        each implementation &mdash; this removes the try/catch, and you'll now have
        better stack traces for exceptions that are thrown within an Underscore iterator.
        Improved the <b>isType</b> family of functions for better interoperability
        with Internet Explorer host objects.
        <tt>_.template</tt> now correctly escapes backslashes in templates.
        Improved <tt>_.reduce</tt> compatibility with the ECMA5 version: 
        if you don't pass an initial value, the first item in the collection is used.
        <tt>_.each</tt> no longer returns the iterated collection, for improved
        consistency with ES5's <tt>forEach</tt>.
      </p>
      
      <p>
        <b class="header">1.1.2</b><br />
        Fixed <tt>_.contains</tt>, which was mistakenly pointing at 
        <tt>_.intersect</tt> instead of <tt>_.include</tt>, like it should 
        have been. Added <tt>_.unique</tt> as an alias for <tt>_.uniq</tt>.
      </p>
      
      <p>
        <b class="header">1.1.1</b><br />
        Improved the speed of <tt>_.template</tt>, and its handling of multiline
        interpolations. Ryan Tenney contributed optimizations to many Underscore 
        functions. An annotated version of the source code is now available.
      </p>
      
      <p>
        <b class="header">1.1.0</b><br />
        The method signature of <tt>_.reduce</tt> has been changed to match
        the ECMAScript 5 signature, instead of the Ruby/Prototype.js version.
        This is a backwards-incompatible change. <tt>_.template</tt> may now be
        called with no arguments, and preserves whitespace. <tt>_.contains</tt>
        is a new alias for <tt>_.include</tt>.
      </p>
      
      <p>
        <b class="header">1.0.4</b><br />
        <a href="http://themoell.com/">Andri Möll</a> contributed the <tt>_.memoize</tt> 
        function, which can be used to speed up expensive repeated computations 
        by caching the results.
      </p>
      
      <p>
        <b class="header">1.0.3</b><br />
        Patch that makes <tt>_.isEqual</tt> return <tt>false</tt> if any property
        of the compared object has a <tt>NaN</tt> value. Technically the correct
        thing to do, but of questionable semantics. Watch out for NaN comparisons.
      </p>
      
      <p>
        <b class="header">1.0.2</b><br />
        Fixes <tt>_.isArguments</tt> in recent versions of Opera, which have
        arguments objects as real Arrays.
      </p>
      
      <p>
        <b class="header">1.0.1</b><br />
        Bugfix for <tt>_.isEqual</tt>, when comparing two objects with the same 
        number of undefined keys, but with different names.
      </p>
      
      <p>
        <b class="header">1.0.0</b><br />
        Things have been stable for many months now, so Underscore is now
        considered to be out of beta, at <b>1.0</b>. Improvements since <b>0.6</b>
        include <tt>_.isBoolean</tt>, and the ability to have <tt>_.extend</tt>
        take multiple source objects.
      </p>
      
      <p>
        <b class="header">0.6.0</b><br />
        Major release. Incorporates a number of 
        <a href="http://github.com/ratbeard">Mile Frawley's</a> refactors for
        safer duck-typing on collection functions, and cleaner internals. A new
        <tt>_.mixin</tt> method that allows you to extend Underscore with utility
        functions of your own. Added <tt>_.times</tt>, which works the same as in 
        Ruby or Prototype.js. Native support for ECMAScript 5's <tt>Array.isArray</tt>, 
        and <tt>Object.keys</tt>.
      </p>

      <p>
        <b class="header">0.5.8</b><br />
        Fixed Underscore's collection functions to work on
        <a href="https://developer.mozilla.org/En/DOM/NodeList">NodeLists</a> and
        <a href="https://developer.mozilla.org/En/DOM/HTMLCollection">HTMLCollections</a>
        once more, thanks to
        <a href="http://github.com/jmtulloss">Justin Tulloss</a>.
      </p>

      <p>
        <b class="header">0.5.7</b><br />
        A safer implementation of <tt>_.isArguments</tt>, and a
        faster <tt>_.isNumber</tt>,<br />thanks to
        <a href="http://jedschmidt.com/">Jed Schmidt</a>.
      </p>

      <p>
        <b class="header">0.5.6</b><br />
        Customizable delimiters for <tt>_.template</tt>, contributed by
        <a href="http://github.com/iamnoah">Noah Sloan</a>.
      </p>

      <p>
        <b class="header">0.5.5</b><br />
        Fix for a bug in MobileSafari's OOP-wrapper, with the arguments object.
      </p>

      <p>
        <b class="header">0.5.4</b><br />
        Fix for multiple single quotes within a template string for
        <tt>_.template</tt>. See:
        <a href="http://www.west-wind.com/Weblog/posts/509108.aspx">Rick Strahl's blog post</a>.
      </p>

      <p>
        <b class="header">0.5.2</b><br />
        New implementations of <tt>isArray</tt>, <tt>isDate</tt>, <tt>isFunction</tt>,
        <tt>isNumber</tt>, <tt>isRegExp</tt>, and <tt>isString</tt>, thanks to
        a suggestion from
        <a href="http://www.broofa.com/">Robert Kieffer</a>.
        Instead of doing <tt>Object#toString</tt>
        comparisons, they now check for expected properties, which is less safe,
        but more than an order of magnitude faster. Most other Underscore
        functions saw minor speed improvements as a result.
        <a href="http://dolzhenko.org/">Evgeniy Dolzhenko</a>
        contributed <tt>_.tap</tt>,
        <a href="http://ruby-doc.org/core-1.9/classes/Object.html#M000191">similar to Ruby 1.9's</a>,
        which is handy for injecting side effects (like logging) into chained calls.
      </p>

      <p>
        <b class="header">0.5.1</b><br />
        Added an <tt>_.isArguments</tt> function. Lots of little safety checks
        and optimizations contributed by
        <a href="http://github.com/iamnoah/">Noah Sloan</a> and 
        <a href="http://themoell.com/">Andri Möll</a>.
      </p>

      <p>
        <b class="header">0.5.0</b><br />
        <b>[API Changes]</b> <tt>_.bindAll</tt> now takes the context object as
        its first parameter. If no method names are passed, all of the context
        object's methods are bound to it, enabling chaining and easier binding.
        <tt>_.functions</tt> now takes a single argument and returns the names
        of its Function properties. Calling <tt>_.functions(_)</tt> will get you
        the previous behavior.
        Added <tt>_.isRegExp</tt> so that <tt>isEqual</tt> can now test for RegExp equality.
        All of the "is" functions have been shrunk down into a single definition.
        <a href="http://github.com/grayrest/">Karl Guertin</a> contributed patches.
      </p>

      <p>
        <b class="header">0.4.7</b><br />
        Added <tt>isDate</tt>, <tt>isNaN</tt>, and <tt>isNull</tt>, for completeness.
        Optimizations for <tt>isEqual</tt> when checking equality between Arrays
        or Dates. <tt>_.keys</tt> is now <small><i><b>25%&ndash;2X</b></i></small> faster (depending on your
        browser) which speeds up the functions that rely on it, such as <tt>_.each</tt>.
      </p>

      <p>
        <b class="header">0.4.6</b><br />
        Added the <tt>range</tt> function, a port of the
        <a href="http://docs.python.org/library/functions.html#range">Python
        function of the same name</a>, for generating flexibly-numbered lists
        of integers. Original patch contributed by
        <a href="http://github.com/kylichuku">Kirill Ishanov</a>.
      </p>

      <p>
        <b class="header">0.4.5</b><br />
        Added <tt>rest</tt> for Arrays and arguments objects, and aliased
        <tt>first</tt> as <tt>head</tt>, and <tt>rest</tt> as <tt>tail</tt>,
        thanks to <a href="http://github.com/lukesutton/">Luke Sutton</a>'s patches.
        Added tests ensuring that all Underscore Array functions also work on
        <i>arguments</i> objects.
      </p>

      <p>
        <b class="header">0.4.4</b><br />
        Added <tt>isString</tt>, and <tt>isNumber</tt>, for consistency. Fixed
        <tt>_.isEqual(NaN, NaN)</tt> to return <i>true</i> (which is debatable).
      </p>

      <p>
        <b class="header">0.4.3</b><br />
        Started using the native <tt>StopIteration</tt> object in browsers that support it.
        Fixed Underscore setup for CommonJS environments.
      </p>

      <p>
        <b class="header">0.4.2</b><br />
        Renamed the unwrapping function to <tt>value</tt>, for clarity.
      </p>

      <p>
        <b class="header">0.4.1</b><br />
        Chained Underscore objects now support the Array prototype methods, so
        that you can perform the full range of operations on a wrapped array
        without having to break your chain. Added a <tt>breakLoop</tt> method
        to <b>break</b> in the middle of any Underscore iteration. Added an
        <tt>isEmpty</tt> function that works on arrays and objects.
      </p>

      <p>
        <b class="header">0.4.0</b><br />
        All Underscore functions can now be called in an object-oriented style,
        like so: <tt>_([1, 2, 3]).map(...);</tt>. Original patch provided by
        <a href="http://macournoyer.com/">Marc-André Cournoyer</a>.
        Wrapped objects can be chained through multiple
        method invocations. A <a href="#object-functions"><tt>functions</tt></a> method
        was added, providing a sorted list of all the functions in Underscore.
      </p>

      <p>
        <b class="header">0.3.3</b><br />
        Added the JavaScript 1.8 function <tt>reduceRight</tt>. Aliased it
        as <tt>foldr</tt>, and aliased <tt>reduce</tt> as <tt>foldl</tt>.
      </p>

      <p>
        <b class="header">0.3.2</b><br />
        Now runs on stock <a href="http://www.mozilla.org/rhino/">Rhino</a>
        interpreters with: <tt>load("underscore.js")</tt>.
        Added <a href="#identity"><tt>identity</tt></a> as a utility function.
      </p>

      <p>
        <b class="header">0.3.1</b><br />
        All iterators are now passed in the original collection as their third
        argument, the same as JavaScript 1.6's <b>forEach</b>. Iterating over
        objects is now called with <tt>(value, key, collection)</tt>, for details
        see <a href="#each"><tt>_.each</tt></a>.
      </p>

      <p>
        <b class="header">0.3.0</b><br />
        Added <a href="http://github.com/dmitryBaranovskiy">Dmitry Baranovskiy</a>'s
        comprehensive optimizations, merged in
        <a href="http://github.com/kriskowal/">Kris Kowal</a>'s patches to make Underscore
        <a href="http://wiki.commonjs.org/wiki/CommonJS">CommonJS</a> and
        <a href="http://narwhaljs.org/">Narwhal</a> compliant.
      </p>

      <p>
        <b class="header">0.2.0</b><br />
        Added <tt>compose</tt> and <tt>lastIndexOf</tt>, renamed <tt>inject</tt> to
        <tt>reduce</tt>, added aliases for <tt>inject</tt>, <tt>filter</tt>,
        <tt>every</tt>, <tt>some</tt>, and <tt>forEach</tt>.
      </p>

      <p>
        <b class="header">0.1.1</b><br />
        Added <tt>noConflict</tt>, so that the "Underscore" object can be assigned to
        other variables.
      </p>

      <p>
        <b class="header">0.1.0</b><br />
        Initial release of Underscore.js.
      </p>

      <p>
        <a href="http://documentcloud.org/" title="A DocumentCloud Project" style="background:none;">
          <img src="http://jashkenas.s3.amazonaws.com/images/a_documentcloud_project.png" alt="A DocumentCloud Project" />
        </a>
      </p>

    </div>

  </div>

  <!-- Include Underscore, so you can play with it in the console. -->
  <script type="text/javascript" src="underscore.js"></script>

</body>
</html>
